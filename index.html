const CountUp = ({ value, prefix = '' }) => {
            const [displayVal, setDisplayVal] = useState(0);
            const prevValueRef = useRef(0);
            
            useEffect(() => {
                let start = displayVal;
                const end = parseFloat(value) || 0;
                if (start === end) return;
                
                const duration = 1000;
                const startTime = performance.now();

                const animate = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const ease = 1 - Math.pow(1 - progress, 3);
                    
                    const current = start + (end - start) * ease;
                    setDisplayVal(current);

                    if (progress < 1) requestAnimationFrame(animate);
                    else {
                        setDisplayVal(end);
                        prevValueRef.current = end;
                    }
                };
                requestAnimationFrame(animate);
            }, [value]);

            // التحقق إذا كان الرصيد يزداد (حالة فوز) لإضافة التوهج
            const isIncreasing = value > prevValueRef.current;

            return React.createElement('span', { 
                className: `font-mono tracking-tight transition-all duration-500 ${isIncreasing ? 'text-white' : 'text-gold-500'}`,
                style: { 
                    textShadow: isIncreasing ? '0 0 15px #FFD700, 0 0 25px #FFB300' : 'none',
                    filter: isIncreasing ? 'brightness(1.5)' : 'brightness(1)'
                }
            }, 
                `${prefix}${displayVal.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`
            );
        };
